{% extends "base.html" %}

{% block title %}Gönderi Oluştur - Solara{% endblock %}

{% block content %}
    <main class="main-container create-post-page">
        <div class="create-post-card">
            <div class="post-header">
                <img src="{{ url_for('static', filename='images/default-avatar.png') }}" alt="User Avatar" class="user-avatar">
                <div class="post-header-info">
                    <span class="post-title">Gönderi Oluştur</span>
                </div>
            </div>
            <hr class="post-divider"> <!-- Divider line -->
            <form id="create-post-form">
                <div class="form-group">
                    <textarea id="post-text" name="post_text" class="form-control post-textarea" placeholder="Aklından neler geçiyor?" rows="6" required></textarea>
                </div>

                <!-- Image preview remains the same for functionality -->
                <div id="image-preview-container" class="image-preview-container" style="display: none;">
                    <img id="image-preview" src="#" alt="Gönderi Resmi Önizlemesi" />
                    <button type="button" id="remove-image-button" class="btn btn-icon btn-remove-image" aria-label="Resmi Kaldır">&times;</button>
                </div>

                <div id="error-message" class="error-message" style="display: none;"></div>

                <!-- Action Buttons -->
                <div class="post-actions">
                    <div class="action-row">
                        <!-- Added file input trigger -->
                        <label for="post-image-input" class="btn btn-action"><i class="fas fa-image"></i> Resim Ekle</label>
                        <input type="file" id="post-image-input" name="post_image" accept="image/*" style="display: none;">
                        <button type="button" class="btn btn-action"><i class="fas fa-camera"></i> Fotoğraf Çek</button>
                    </div>
                </div>

                <!-- Share Button -->
                <div class="form-actions-bottom">
                    <button type="submit" id="submit-post-button" class="btn btn-primary share-button-new"><i class="fas fa-paper-plane"></i> Paylaş</button>
                </div>
            </form>
        </div>
    </main>
{% endblock %}

{% block scripts_extra %}
    <script src="{{ url_for('static', filename='js/create_post.js') }}"></script>
{% endblock %}
